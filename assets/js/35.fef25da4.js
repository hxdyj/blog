(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{590:function(s,e,a){"use strict";a.r(e);var r=a(42),t=Object(r.a)({},(function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"linux-安装-redis"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux-安装-redis"}},[s._v("#")]),s._v(" Linux 安装 redis")]),s._v(" "),a("blockquote",[a("p",[a("a",{attrs:{href:"http://redisbook.com/",title:"Redis学习资料",target:"_blank",rel:"noopener noreferrer"}},[s._v("Redis 学习资料"),a("OutboundLink")],1)])]),s._v(" "),a("h2",{attrs:{id:"下载编译安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#下载编译安装"}},[s._v("#")]),s._v(" 下载编译安装")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("wget http://download.redis.io/releases/redis-4.0.1.tar.gz\ntar -zxvf redis-4.0.1.tar.gz\ncd redis-4.0.1.tar.gz\nmake\ncd src\nmake install\nredis-server –v //查看版本命令,检查是否安装成功\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h2",{attrs:{id:"配置-redis"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置-redis"}},[s._v("#")]),s._v(" 配置 redis")]),s._v(" "),a("p",[a("strong",[s._v("1.配置文件一般在 /etc/ 目录下，在此目录创建 redis 目录")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("cd /etc/\nmkdir redis\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[a("strong",[s._v("2.dump file、进程 pid、log 目录等，一般放在 /var/ 目录下")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("cd /var/\nmkdir redis\ncd redis\nmkdir data log run\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[a("strong",[s._v("3.拷贝解压包下的 redis.conf 文件至 /etc/redis/")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("cp redis-4.0.1.tar.gz/redis.conf /etc/redis/\nvim /etc/redis/redis.conf\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("ul",[a("li",[s._v("port 配置端口 （采用默认 6379）")]),s._v(" "),a("li",[s._v("dir 配置 dump 目录（修改为第 2 步创建的 /var/redis/data 目录）")]),s._v(" "),a("li",[s._v("logfile 配置日志目录 （修改 log 存储目录为第 2 步创建的 /var/redis/log/redis.log 目录）")]),s._v(" "),a("li",[s._v("daemonize 默认 rdb，可选择是否开启 aof（持久化 ）")]),s._v(" "),a("li",[s._v("requirepass 设置密码，设置后无密码方式可登陆，但是不可进行数据操作")])]),s._v(" "),a("h2",{attrs:{id:"服务及开机自启动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#服务及开机自启动"}},[s._v("#")]),s._v(" 服务及开机自启动")]),s._v(" "),a("p",[s._v("**1.拷贝解压包 utils 下 redis 启动脚本 至 /etc/init.d/ **")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("cp redis_init_script /etc/init.d/\ncd /etc/init.d/\nmv redis_init_script redis\nchmod +x /etc/init.d/redis\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("至此，已经可以通过 "),a("code",[s._v("service redis start/stop")]),s._v(" 命令启动和关闭 redis\n"),a("strong",[s._v("2.设置自启动")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("chkconfig redis on\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("如果运行报错，在启动脚本里加入 redis 启动优先级信息")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("vim redis\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[a("strong",[s._v("在 #!/bin/sh 下边加入如下两行配置：")]),s._v("\n_ #chkconfig:2345 90 10\n_ #description: Resid ...")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("chkconfig redis on\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("hr"),s._v(" "),a("p",[s._v("此文参考 http://blog.csdn.net/ludonqin/article/details/47211109")])])}),[],!1,null,null,null);e.default=t.exports}}]);